var cov_21pa2tporq=function(){var path='c:\\Users\\Safa\\WebstormProjects\\MultitelProject\\GeneratorClient\\Repository\\SensorRepository.js',hash='4575e3b3b8581f9aaeca0e34051e67a5cccc8c8e',global=new Function('return this')(),gcv='__coverage__',coverageData={path:'c:\\Users\\Safa\\WebstormProjects\\MultitelProject\\GeneratorClient\\Repository\\SensorRepository.js',statementMap:{'0':{start:{line:2,column:16},end:{line:2,column:36}},'1':{start:{line:3,column:8},end:{line:3,column:25}},'2':{start:{line:4,column:19},end:{line:4,column:49}},'3':{start:{line:5,column:28},end:{line:5,column:46}},'4':{start:{line:7,column:16},end:{line:14,column:2}},'5':{start:{line:16,column:18},end:{line:16,column:63}},'6':{start:{line:17,column:0},end:{line:17,column:19}},'7':{start:{line:19,column:0},end:{line:28,column:2}},'8':{start:{line:20,column:4},end:{line:27,column:10}},'9':{start:{line:22,column:12},end:{line:22,column:85}},'10':{start:{line:25,column:12},end:{line:25,column:29}},'11':{start:{line:26,column:12},end:{line:26,column:70}},'12':{start:{line:30,column:0},end:{line:52,column:2}},'13':{start:{line:32,column:4},end:{line:43,column:5}},'14':{start:{line:33,column:8},end:{line:33,column:32}},'15':{start:{line:36,column:8},end:{line:42,column:9}},'16':{start:{line:45,column:4},end:{line:51,column:11}},'17':{start:{line:47,column:16},end:{line:47,column:92}},'18':{start:{line:49,column:12},end:{line:49,column:29}},'19':{start:{line:50,column:12},end:{line:50,column:73}},'20':{start:{line:54,column:0},end:{line:71,column:2}},'21':{start:{line:55,column:15},end:{line:58,column:5}},'22':{start:{line:59,column:4},end:{line:59,column:26}},'23':{start:{line:60,column:4},end:{line:69,column:6}},'24':{start:{line:68,column:8},end:{line:68,column:25}},'25':{start:{line:72,column:0},end:{line:72,column:54}}},fnMap:{'0':{name:'(anonymous_0)',decl:{start:{line:19,column:23},end:{line:19,column:24}},loc:{start:{line:19,column:33},end:{line:28,column:1}},line:19},'1':{name:'(anonymous_1)',decl:{start:{line:21,column:14},end:{line:21,column:15}},loc:{start:{line:21,column:30},end:{line:23,column:9}},line:21},'2':{name:'(anonymous_2)',decl:{start:{line:24,column:15},end:{line:24,column:16}},loc:{start:{line:24,column:28},end:{line:27,column:9}},line:24},'3':{name:'(anonymous_3)',decl:{start:{line:30,column:24},end:{line:30,column:25}},loc:{start:{line:30,column:51},end:{line:52,column:1}},line:30},'4':{name:'(anonymous_4)',decl:{start:{line:46,column:14},end:{line:46,column:15}},loc:{start:{line:46,column:32},end:{line:48,column:9}},line:46},'5':{name:'(anonymous_5)',decl:{start:{line:48,column:17},end:{line:48,column:18}},loc:{start:{line:48,column:30},end:{line:51,column:9}},line:48},'6':{name:'(anonymous_6)',decl:{start:{line:54,column:23},end:{line:54,column:24}},loc:{start:{line:54,column:53},end:{line:71,column:1}},line:54},'7':{name:'(anonymous_7)',decl:{start:{line:65,column:16},end:{line:65,column:17}},loc:{start:{line:65,column:32},end:{line:67,column:5}},line:65},'8':{name:'(anonymous_8)',decl:{start:{line:67,column:13},end:{line:67,column:14}},loc:{start:{line:67,column:26},end:{line:69,column:5}},line:67}},branchMap:{'0':{loc:{start:{line:32,column:4},end:{line:43,column:5}},type:'if',locations:[{start:{line:32,column:4},end:{line:43,column:5}},{start:{line:32,column:4},end:{line:43,column:5}}],line:32}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0},b:{'0':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();var Sequelize=(++cov_21pa2tporq.s[0],require("sequelize"));var _=(++cov_21pa2tporq.s[1],require('lodash'));var EventEmitter=(++cov_21pa2tporq.s[2],require('events').EventEmitter);var sensorRepositoryEvent=(++cov_21pa2tporq.s[3],new EventEmitter());var sequelize=(++cov_21pa2tporq.s[4],new Sequelize('multitel','multitel','multitel',{host:'localhost',port:3306,dialect:'mysql',define:{timestamps:false}}));var sensorModel=(++cov_21pa2tporq.s[5],sequelize.import(__dirname+'/Model/sensor'));++cov_21pa2tporq.s[6];sensorModel.sync();++cov_21pa2tporq.s[7];exports.getAllSensor=function(){++cov_21pa2tporq.f[0];++cov_21pa2tporq.s[8];sensorModel.findAll().then(function(result){++cov_21pa2tporq.f[1];++cov_21pa2tporq.s[9];sensorRepositoryEvent.emit('sensors',JSON.parse(JSON.stringify(result)));}).catch(function(err){++cov_21pa2tporq.f[2];++cov_21pa2tporq.s[10];console.log(err);++cov_21pa2tporq.s[11];sensorRepositoryEvent.emit('getSensorError',err.message);});};++cov_21pa2tporq.s[12];exports.getNewSensors=function(extingSignalsId){++cov_21pa2tporq.f[3];var whereClause;++cov_21pa2tporq.s[13];if(_.isEmpty(extingSignalsId)){++cov_21pa2tporq.b[0][0];++cov_21pa2tporq.s[14];whereClause=undefined;}else{++cov_21pa2tporq.b[0][1];++cov_21pa2tporq.s[15];whereClause={where:{idSensor:{$notIn:extingSignalsId}}};}++cov_21pa2tporq.s[16];sensorModel.findAll(whereClause).then(function(result){++cov_21pa2tporq.f[4];++cov_21pa2tporq.s[17];sensorRepositoryEvent.emit('newSensors',JSON.parse(JSON.stringify(result)));}).catch(function(err){++cov_21pa2tporq.f[5];++cov_21pa2tporq.s[18];console.log(err);++cov_21pa2tporq.s[19];sensorRepositoryEvent.emit('getNewSensorError',err.message);});};++cov_21pa2tporq.s[20];exports.updateSensor=function(sensorId,category){++cov_21pa2tporq.f[6];var data=(++cov_21pa2tporq.s[21],{idSensor:sensorId,category:category});++cov_21pa2tporq.s[22];data=_.pickBy(data);++cov_21pa2tporq.s[23];sensorModel.update(data,{where:{idSensor:sensorId}}).then(function(result){++cov_21pa2tporq.f[7];}).catch(function(err){++cov_21pa2tporq.f[8];++cov_21pa2tporq.s[24];console.log(err);});};++cov_21pa2tporq.s[25];exports.sensorRepositoryEvent=sensorRepositoryEvent;